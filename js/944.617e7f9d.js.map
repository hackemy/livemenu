{"version":3,"file":"js/944.617e7f9d.js","mappings":"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","sources":["webpack://livemenu/./src/views/StoreView.vue?b46a","webpack://livemenu/./src/views/StoreView.vue"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createVNode as _createVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\"\n\nconst _hoisted_1 = {\n  key: 0,\n  class: \"home\"\n}\nconst _hoisted_2 = { class: \"container pt-4\" }\nconst _hoisted_3 = { class: \"row g-0\" }\nconst _hoisted_4 = { class: \"col-lg-8 col-12 offset-lg-2\" }\nconst _hoisted_5 = { class: \"row g-0 mt-sm-4\" }\nconst _hoisted_6 = { class: \"col-lg-3 col-md-3 col-12\" }\nconst _hoisted_7 = { class: \"col-lg-9 col-md-9 col-12 no-gutters-mobile\" }\n\nimport { useStore } from \"vuex\";\nimport { useRoute } from \"vue-router\"\nimport { \n    ref,\n    computed,\n    ComputedRef,\n    onMounted,\n    watchEffect, \n    defineAsyncComponent \n} from 'vue';\nimport {Business, MenuItem, Category} from \"@/interfaces\";\nimport {StoreState} from \"@/store/modules/stores\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'StoreView',\n  setup(__props, { expose }) {\n\n\nconst store = useStore();\nconst route = useRoute();\n\nconst StoreBanner = defineAsyncComponent(() => import('@/components/StoreBanner.vue'));\nconst StoreCategories = defineAsyncComponent(() => import('@/components/StoreCategories.vue'));\nconst StoreItems = defineAsyncComponent(() => import('@/components/StoreItems.vue'));\n\nconst storeInfo = ref<StoreState | null>(null);\nconst activeCategoryID = ref<string>(\"\");\nconst categoryClickedScroll = ref(false);\n\nwatchEffect(() => {\n    console.log(\"watchEffect() --- \")\n    storeInfo.value = store.getters.fullStore\n});\n\nexpose({\n    components: {\n        StoreBanner, StoreCategories, StoreItems\n    },\n    storeInfo\n});\n\nstore.dispatch('getStoreById', route.params.storeId)\n\n\nonMounted(() => {\n  if (!activeCategoryID.value && storeInfo.value && storeInfo.value.categories) {\n    activeCategoryID.value = \"cat-\" + storeInfo.value.categories[0];\n  }\n\n    window.onscroll = () => {\n        var currentTemp = -1;\n        document.querySelectorAll(\".item-category\").forEach((section) => {\n            const sectionTop = (section as HTMLElement).offsetTop - 70;\n            if (window.scrollY >= sectionTop) {\n                const sectionId = section.getAttribute(\"id\");\n                if (sectionId) {\n                    const idNumber = +sectionId.split(\"-\")[1];\n                    if (currentTemp < idNumber) {\n                        activeCategoryID.value = sectionId;\n                    }\n                }\n            }\n        });\n\n        const mobileCategories = document.querySelector(\".mobile-categories\");\n\n        if (mobileCategories && !categoryClickedScroll.value) {\n            const activeCategory = document.querySelector(\n                \".mobile-categories .single-category.active\"\n            );\n            \n            const activeReacts = activeCategory?.getBoundingClientRect();\n\n            if (activeReacts != undefined) {\n                if (screen.width < activeReacts.x + activeReacts.width + 40) {\n                    mobileCategories.scrollLeft =\n                    mobileCategories.scrollLeft + activeReacts.x - 12;\n                }\n            }\n        \n        }\n    };\n});\n\nconst categoryClicked = () => {\n    categoryClickedScroll.value = true;\n    setTimeout(() => {\n        categoryClickedScroll.value = false;\n    }, 1000);\n};\n\nreturn (_ctx: any,_cache: any) => {\n  return (storeInfo.value)\n    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n        _createElementVNode(\"div\", _hoisted_2, [\n          _createElementVNode(\"div\", _hoisted_3, [\n            _createElementVNode(\"div\", _hoisted_4, [\n              _createVNode(_unref(StoreBanner), {\n                business: storeInfo.value.business\n              }, null, 8, [\"business\"]),\n              _createElementVNode(\"div\", _hoisted_5, [\n                _createElementVNode(\"div\", _hoisted_6, [\n                  _createVNode(_unref(StoreCategories), {\n                    class: \"d-none d-md-block\",\n                    mobile: false,\n                    \"current-active\": activeCategoryID.value,\n                    categories: storeInfo.value.categories\n                  }, null, 8, [\"current-active\", \"categories\"])\n                ]),\n                _createElementVNode(\"div\", _hoisted_7, [\n                  _createVNode(_unref(StoreCategories), {\n                    class: \"d-md-none\",\n                    mobile: true,\n                    \"active-category\": activeCategoryID.value,\n                    categories: storeInfo.value.categories,\n                    onCategoryClicked: categoryClicked\n                  }, null, 8, [\"active-category\", \"categories\"]),\n                  _createVNode(_unref(StoreItems), {\n                    categories: storeInfo.value.categories,\n                    itemsByCat: storeInfo.value.itemsByCategoryID\n                  }, null, 8, [\"categories\", \"itemsByCat\"])\n                ])\n              ])\n            ])\n          ])\n        ])\n      ]))\n    : _createCommentVNode(\"\", true)\n}\n}\n\n})","import script from \"./StoreView.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./StoreView.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./StoreView.vue?vue&type=style&index=0&id=d2d6a182&lang=scss\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["_hoisted_1","key","class","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_defineComponent","__name","setup","__props","expose","store","useStore","route","useRoute","StoreBanner","defineAsyncComponent","StoreCategories","StoreItems","storeInfo","ref","activeCategoryID","categoryClickedScroll","watchEffect","console","log","value","getters","fullStore","components","dispatch","params","storeId","onMounted","categories","window","onscroll","currentTemp","document","querySelectorAll","forEach","section","sectionTop","offsetTop","scrollY","sectionId","getAttribute","idNumber","split","mobileCategories","querySelector","activeCategory","activeReacts","getBoundingClientRect","undefined","screen","width","x","scrollLeft","categoryClicked","setTimeout","_ctx","_cache","_openBlock","_createElementBlock","_createElementVNode","_createVNode","_unref","business","mobile","onCategoryClicked","itemsByCat","itemsByCategoryID","_createCommentVNode","__exports__"],"sourceRoot":""}